{% extends 'index.html' %}
{% block content %}
<div class="row">
    <h3>Liste des Biens</h3>
    <div class="carousel">
    {% for propriete in list_proprietes %}
    <div class="carousel-item"><a href="{% url 'propriete-edit' propriete.pk %}"><img src="{{ propriete.images.first.pic.url }}" alt="Image 3" width="250px" height="250px"></a>
        <ul class="description">
        <li >Référence : {{propriete.reference }}</li>
        <li >Opération : {{ propriete.type_operation }}</li>
        <li >Prix : {{ propriete.price }} MAD</li>
        <li >Toatl Chambre : {{ propriete.global_bedrooms }} </li>
        <li >Toatl Salle de Bain : {{ propriete.bathrooms_italienne|add:propriete.bathrooms_baignoire|add:propriete.bathrooms_sde|add:propriete.bathrooms_hammam_beldi}}</li>
        <li >Toatl Salon : {{ propriete.nbre_salon_marocain|add:propriete.nbre_salon_european|add:propriete.nbre_salon_cheminie|add:propriete.nbre_salon_sejour}}</li>
        <li >Piscine : {% if propriete.piscine_privee or propriete.piscine_chauffee_privee %} Privé  {% elif propriete.piscine_collective or  propriete.piscine_chauffee_collective %} Collective {% else %} Aucun {% endif %} </li>
        <li >Parcking : {% if propriete.parking_prive %} Privé  {% elif propriete.parking_collectif %} Collectif {% else %} Aucun {% endif %} </li>
        
        <li >Adresse : {{ propriete.residence }} N°APPT {{ propriete.num_appartment }} {{ propriete.adresse }}</li>
        <li >Propriétaire : {{ propriete.proprietaire.nom_raison_sociale }}</li>
        <li >Tél Propriétaire : {{ propriete.proprietaire.phonenumber }}</li>
        <li >Gardien : {{ propriete.proprietaire.nom_gardien }}</li>
        <li >Tél Gardien : {{ propriete.proprietaire.tel_gardien }}</li>
        {% if propriete.agent %}
        <li >Agent : {{ propriete.agent }}</li>
        <li >Tél Agent : {{ propriete.agent.phonenumber }}</li>
        {% endif %}
        {% if propriete.intermidiare %}
        <li >Intermidiaire : {{ propriete.intermidiare }}</li>
        <li >Tél Intermidiaire : {{ propriete.intermidiare.phonenumber }}</li>
        {% endif %}
        </ul>
    </div>
    {% endfor %}
    </div>
</div>


{% endblock content %}

{% block script %}
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script>
$(document).ready(function(){
    $('.carousel').slick({
        infinite: true,
        slidesToShow: 3,
        slidesToScroll: 1,
        dots: true,
        arrows: true,
        centerMode: true,      // Assure que les images ne sont pas décalées vers le centre
        variableWidth: false,    // Empêche des largeurs irrégulières qui causent des décalages
        responsive: [
            {
                breakpoint: 768,
                settings: {
                    slidesToShow: 2,
                    slidesToScroll: 1
                }
            },
            {
                breakpoint: 480,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1
                }
            }
        ]
    });
});



</script>
{% endblock script %}